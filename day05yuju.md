“There’s always more to learn, and there are always better ways to do what you’ve done before.”

\(Donald Ervin Knuth ,现代计算机科学的鼻祖, 经典巨著《计算机程序设计的艺术》的作者\)

## 语句

语句是构成程序的基本元素。对应着一条或者多条机器指令。

定义一个变量

```c
int a = 100 ;
```

声明一个变量

```c
extern int a ;
```

调用printf函数

```c
printf("hello world");
```

这些形式的语句都是**简单语句**。简单语句形式比较简洁，都以;结尾。  
除了简单语句在C语言中还提供了一些形式固定的语句，复合语句。

## 条件分支语句

* if

```
if(条件表达式)
{
    // 代码块;
}
```

如果条件为真，就执行代码块中代码。

验证用户密码是否正确，伪代码演示。---练习

* if else

```
if(条件)
{
    // 代码块1;
}
else
{
    // 代码块2;
}
```

条件为真，执行代码块1，条件为假，执行代码块2.

* if-else if

```
if(条件1)
{
   // 代码块1;
}
else if(条件2)
{
   // 代码块2;
}
else if(条件3)
{
   // 代码块3;
}
else
{
   // 默认代码块;
}
```

  哪个条件成立就执行对应的代码块，如果所有的条件都不成立，就执行else代码块中的代码。  
  注意：在多分支if语句里，else总是和上面最近的那个if配对。

## switch分支语句

与break，default

* switch语句的使用

```
switch(量)
{
    case 值1:
        // 代码块1
        break;
    case 值2:
        // 代码块2
        break;
    case 值3:
        // 代码块3
        break;
    default:
        // 所有case都不满足，就执行该代码块。
}
```

解释：如果量的值和case后面的值相等，就执行相应的语句，break跳出switch语句。  
如果所有的case都不匹配，就执行default语句。

> break如果省略之后会发生非常有趣的现象。

### case穿透

```
每个case语句之后如果没有break语句就会产生case穿透。
没有break如果是非故意的那就会造成BUG。
```

案例- 输入月份 输出该月份对应的季节\(春345 夏678 秋91011 冬1212\)

### 关联性的if语句和switch语句的联系

如果判断条件是**整数类型**的**常数值**类型的时候 switch和if都可以使用  
但是switch语句显得更加简洁

```c
#include <stdio.h>
int main(void)
{
    int num = 0;
    scanf("%d",num);
    int num = num % 3;
    
    if ( num == 0 )
    {
        printf("余数是0\n");
    }else if( num == 1)
    {
        printf("余数是1\n");
    }else
    {
        printf("余数是2\n");
    }
    return 0;
}
```

```c
#include <stdio.h>
int main(void)
{
    int num = 0;
    scanf("%d",num);
    int num = num % 2;
    switch( num ）
    {
        case 0:
            printf("余数是0\n");
            break;
        case 1:
            printf("余数是1\n");
            break;
        default:
            printf("余数是2\n");
            break;
    }
    return 0;
}
```

如果判断条件中是非整数类型\(浮点数、表达式\)时必须使用if语句。

## 条件运算符

* 格式
  \(条件\) ？ 值1：值2
  当条件成立时，表达式的值为值1，否则，表达式的值为值2.

## goto语句与标号

执行原理：当执行到goto语句，CPU就会跳转到标签的地方执行代码。

```c
int main()
{
    int i = 0;
    loop:
        i++;
        printf("你个猴子!\n");
        if(i == 5)
        {
            goto end;
        }
        goto loop;
    end:  
        printf("不再说你是猴子\n"); 

    return 0;
}
```

注意：

1、标签名随意，但是要符合标识符的命名规则和规范。

2、标签名可以往前跳，也可以往后跳。

3、只能在当前函数中跳。

4、标签名下面的那一句代码不能声明变量。

5、如果使用goto能够简化代码，就可以使用，其他情况下，不建议使用。

## 循环语句

* while

```c
while( 循环条件 ) //1 先判断循环条件 如果条件为真 执行循环体语句；否则执行}后面的语句
{    
     //循环体语句 
     dosomething.....  //2 执行完循环体语句之后再次执行 1
}
```

> 如果循环体语句只有一条语句，那么循环体语句外面的{ }可以省略。


* continue

* break

### for

```c
//1先执行for循环中的 初始化表达式 然后 执行2

for( 初始化表达式 ;循环条件表达式 ; update-expr) //2 判断循环条件 如果循环条件为真 执行3；否则执行}后面的语句
{
    //循环体语句
    dosomething..... //3 执行完循环体语句之后再次执行 2
}
```

update-expr 从字面来看叫 **更新表达式**，用以 表示下一轮循环和本轮循环 有哪些值是需要被更新的。

### C99的for改进

> C89、C99、C11为何物

美国国家标准协会（ANSI）  
国际电工委员会（IEC）  
国际标准化组织（ISO）

1973年初，C语言的主体完成。Thompson和Ritchie迫不及待地开始用它完全重写了UNIX。此时，编程的乐趣使他们已经完全忘记了那个"Space Travel"，一门心思地投入到了UNIX和C语言的开发中。随着UNIX的发展，C语言自身也在不断地完善。直到今天，各种版本的UNIX内核和周边工具仍然使用C语言作为最主要的开发语言，其中还有不少继承Thompson和Ritchie之手的代码。

在开发中，他们还考虑把UNIX移植到其他类型的计算机上使用。C语言强大的移植性（Portability）在此显现。机器语言和汇编语言都不具有移植性，为x86开发的程序，不可能在Alpha,SPARC和ARM等机器上运行。而C语言程序则可以使用在任意架构的处理器上，只要那种架构的处理器具有对应的C语言编译器和库，然后将C源代码编译、连接成目标二进制文件之后即可运行。

1977年，Dennis M.Ritchie发表了不依赖于具体机器系统的C语言编译程序《可移植的C语言编译程序》。

1982年，很多有识之士和美国国家标准协会为了使这个语言健康地发展下去，决定成立C标准委员会，建立C语言的标准。委员会由硬件厂商，编译器及其他软件工具生产商，软件设计师，顾问，学术界人士，C语言作者和应用程序员组成。

1989年，ANSI发布了第一个完整的C语言标准——ANSI X3.159—1989，简称“C89”，不过人们也习惯称其为“ANSI C”。C89在1990年被国际标准组织ISO\(International Organization for Standardization\)一字不改地采纳，ISO官方给予的名称为：ISO/IEC 9899，所以ISO/IEC9899: 1990也通常被简称为“C90”。

1999年，基于C89做了修正和完善后，ISO发布了新的C语言标准，命名为ISO/IEC 9899：1999，简称“C99”。

2011年12月8日，ISO又正式发布了新的标准，称为ISO/IEC9899: 2011，简称为“C11”。

在C89中for只能写成这样的

```c
int  i = 0;
for( i < 1000; ++i)
{
    printf("i = %d\n",i);
}
```

C99及以后则可以写成这样

```c
for( int i = 0; i < 1000; ++i)
{
    printf("i = %d\n",i);
}
```

总的来说 C99及之后的语法更加简洁。C++语言也支持这两种写法，而且在C++中第二种写法更加常用。

[拓展延伸-gcc编译器对c99的支持情况](http://gcc.gnu.org/c99status.html)

> 指定编译器以c99方式编译我们的C代码

* linux command-gcc

  gcc src.c -std=c99

* Qt IDE

在Qt项目的pro文件中 `QMAKE_CFLAGS += -std=c99`

* Microsoft Visual Studio

MSVC是一个C++编译器，因此我们不需要指定即可直接编译C99的代码。

## 循环嵌套

演示多个循环循环嵌套时，break的使用。

新增案例：99乘法表

1\_1= 1  
1\_2= 2    2\_2= 4  
1\_3= 3    2\_3= 6    3\_3= 9  
1\_4= 4    2\_4= 8    3\_4=12    4\_4=16  
1\_5= 5    2\_5=10    3\_5=15    4\_5=20    5\_5=25  
1\_6= 6    2\_6=12    3\_6=18    4\_6=24    5\_6=30    6\_6=36  
1\_7= 7    2\_7=14    3\_7=21    4\_7=28    5\_7=35    6\_7=42    7\_7=49  
1\_8= 8    2\_8=16    3\_8=24    4\_8=32    5\_8=40    6\_8=48    7\_8=56    8\_8=64  
1\_9= 9    2\_9=18    3\_9=27    4\_9=36    5\_9=45    6\_9=54    7\_9=63    8\_9=72    9\*9=81

1.思路  
1&gt;  
X\_X=X  
X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X  
X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\_X=X    X\*X=X

2&gt;

@

@ @

@ @ @

@ @ @ @

@ @ @ @ @

@ @ @ @ @ @

@ @ @ @ @ @ @

@ @ @ @ @ @ @ @

@ @ @ @ @ @ @ @ @

3&gt;_  
把符号替换成等式。_

```
#include <stdio.h>
int main()
{

    for (int i = 1; i < 10; i++) 
    {
        for (int j = 1; j<i+1; j++) 
        {
//            printf("*");
//            printf("* ");
//     \t 制表符 --- 每次打印会空出4个空格
//            printf("*\t"); 
//            printf("X*X=X\t");
//     打印几行的时候,第二个数恰好是几,而行数是i控制的
//            printf("%d*%d=%d\t",j,i,i*j);
            printf("%d*%d=%2d\t",j,i,i*j);
        }
        printf("\n");
    }

    return 0;
}
```

### while和for循环的区别

## 代码风格

```
google C/C++编码风格部分
```

> 国际C语言混乱代码大赛（IOCCC）

```
#include <stdio.h>
#define _$()                                         0
#define __$()                                        1
#define _$_()                                        10
#define $_$(a)                                       a;
#define $_(b,a)                                     a##b
#define r(a,b)                                  r##a##b##urn 0;
#define m(b,a,x) };                               m##a##b##n
#define $(b,a,x)                                  a##b##x
#define                                         ____ + __
#define $_$_                                         =
#define __(...)  (                              $(n,i,t))(\
$(ze,si,of)(($(n,i,t)[]) { _$(), ##__VA_ARGS__})/$(ze,si,of) ($(n,i,t))-__$())
$(n,i,t)  (*___)   ($(n,i,t))  = $(tch,  pu,  ar);   $(ub,do,le) _<::> $_$_ <%
-2, 1, -1.3, 1.3     /* <-- Configure here: X1, X2, Y1, Y2 */

,_$(), _$(),_$(),_$(),_$() ,_$(), __( ',',',',',' ,',' ,',')  * _$_() ,( _$_()
- __('_','_')) * _$_(), _$(),_$(),_$(),__('_','_')*__('_','_', '_','_', '_') *
__('_','_', '_','_', '_')*__('_','_', '_','_', '_')+__('_','_', '_','_' , '_')
,__('_','_','_','_','_','_','_','_',), _$() m(i,a,u)($(n,i,t) $_)<% $_ (f,i) (
$_ $_(=,=) __(_) ) $_$($_(f,i)(_[ _$_()____(_,_) ]>_[ _$_()] )_[_$_()____ (_,_
,_,_,_,_,_)] $_$_ __(_) )$_(f,i)(_[_$_()____(_ ,_ ,_)] >_[  _$_()+ __$() ]  ||
_[_$_()____(_,_,_,_,_,_,_)] $_ (=,=) __$()) r(e,t) _[__(_,_,_ ,_,_ ,_)] $_$_ _
[__ (_,_,_,_,_,_,_)____(_,_,_,_,_,_) ]/_[__(_,_,_,_,_) ____(_,_,_,_,_,_)]*( _[
  __$()]-_[_$()])+_[ _$() ];_[__(_,_,_,_,_,_,_)] $_$_ _[__(_,_,_,_,_,_,_) ____
(_,_,_,_,_)]/_[_$_()]*(_[__(_,_,_,)]-_[__(_,_,)] )+_[__(_,_,)];_[__(_,_,_,_, _
,_,_,_)] $_$_ _[_$_() - __$()] $_$_ _[__(_,_,_,_,_)+ _$_()-__$()]  $_$_  _$();
_f:_[__(_,_,_,_)]  $_$_  _[__( _,_,_,_, _,_,_, _)] * _ [__(_,_,_, _,_,_,_,_)];
_[__(_,_,_,_,_)] $_$_ _[_$_() - __$()]*_[_$_() - __$()];_[__(_,_,_,_,_,_,_,_,_
)] $_$_ __(_,_)*_[__(_,_,_,_,_,_,_,_)]*_[_$_() -__$()]+ _[__ (_,_,_,_,_,_,_)];
_[__(_,_,_,_,_,_,_,_)] $_$_ _ [ __(_,_,_,_) ]-_[__(_,_,_,_,_)]+_[__(_,_,_,_,_,
_)];$_$(_[_$_()____(_,_,_,_,)]++)$_(f,i)((_ [_$_() ____ (_,_,_,_,)]< _ [_$_ ()
____ (_,_,_,_,_)])&&(_[__(_,_,_,_)]+ _[__(_,_,_,_,_)]<_[_$_()____(_,_,_,_,_,_)
])) $_(to,go) _f; $_(ar,ch) $(m,i,au)[] $_$_ <% __(_,_,_) * _$_()____(_,_), __
(_,_,_,_) * _$_()____(_,_,_),__(_,_,_,_,_,_) * _$_()____(_,_,_,_), __(_,_,_,_)
*_$_() ____(_,_,_,_,_),__(_,_,_,_) * _$_() ____(_,_,_,_,_,_),__(_,_,_,_) * _$_
()____(_,_) %>;___($(m,i,au)[($(n,i,t)) _[_$_()____(_,_,_,_)]%__(_,_,_,_,_)]);
$_$(_[__(_,_ ,_,_ ,_,_,_) + __(_,_,_,_,_,_)]++){m(i,a,u) ( _$()) ;$_$ (_[_$_()
____(_,_)]++)$_$(_[_$_()____(_,_,_)] $_$_ _$()) $_(f,i)(_ [__(_,_,_,_,_,_,_) + 
_$_()] != __(_)) ___(_$_()) ;{  m(i,a,u)(__$()); r(e,t)    /* IOCCC 2014*/  %>
```

```
-------------.......................................................-------------
-----------................................           ................-----------
---------..............................                   ..............---------
--------............................          ++@++++       .............--------
------...........................           +++@+@@@+++       .............------
-----..........................           ++++@@.- --.++        ............-----
----.........................            ++++@@-.+@@@ @+++       ............----
--.........................            +++++@@--.+ ++.-@+++       .............--
-........................             +++++@@-..@@@ + .@@++++       ............-
.......................            +++++@@@@-. @-   -@@-@@+++++     .............
.....................            +++++@@@@--..@      ++.-@@@+++++    ............
...................           ++++++@@-----.  @-     +@ .--@@@@@++    ...........
.................          +++++++@@- - @  - -.@    @+.-@@ .--. -++    ..........
...............         ++++++++@@@-. @ @ ..           @  -+.@@  @++   ..........
............         ++++++++++@@@--.+   -                 ++  @-@++    .........
..........        ++++++++++@@@@@--. @ -                      ++.@@++    ........
.......         +++@@@@@@@@@@@@--- . ..                      ..+.-@++    ........
.....         ++++@@+-----------.. -.                          @  -++    ........
...         +++++@@ .  .. @ .....  +@                          + +.@+     .......
..         +++++@@-.--@ @--.- + ++ +                             @-@++    .......
.        ++++++@@--.+.  @+@ + @-@-@                             . -@++    .......
        +++++@@@--.+@ -        +++                               @-+++     ......
      ++++@@@@-.+  @.           -+                              +.@+++     ......
  +++++@@@@@--. .   -            +                               -@+++     ......
+++@@- .--... +@                                                -@@+++     ......
                                                             ++.-@@+++     ......
+++@@- .--... +@                                                -@@+++     ......
  +++++@@@@@--. .   -            +                               -@+++     ......
      ++++@@@@-.+  @.           -+                              +.@+++     ......
        +++++@@@--.+@ -        +++                               @-+++     ......
.        ++++++@@--.+.  @+@ + @-@-@                             . -@++    .......
..         +++++@@-.--@ @--.- + ++ +                             @-@++    .......
...         +++++@@ .  .. @ .....  +@                          + +.@+     .......
.....         ++++@@+-----------.. -.                          @  -++    ........
.......         +++@@@@@@@@@@@@--- . ..                      ..+.-@++    ........
..........        ++++++++++@@@@@--. @ -                      ++.@@++    ........
............         ++++++++++@@@--.+   -                 ++  @-@++    .........
...............         ++++++++@@@-. @ @ ..           @  -+.@@  @++   ..........
.................          +++++++@@- - @  - -.@    @+.-@@ .--. -++    ..........
...................           ++++++@@-----.  @-     +@ .--@@@@@++    ...........
.....................            +++++@@@@--..@      ++.-@@@+++++    ............
.......................            +++++@@@@-. @-   -@@-@@+++++     .............
-........................             +++++@@-..@@@ + .@@++++       ............-
--.........................            +++++@@--.+ ++.-@+++       .............--
----.........................            ++++@@-.+@@@ @+++       ............----
-----..........................           ++++@@.- --.++        ............-----
------...........................           +++@+@@@+++       .............------
--------............................          ++@++++       .............--------
---------..............................                   ..............---------
-----------................................           ................-----------
-------------.......................................................-------------
```

## 案例

### 求自然数之和

用户输入任意一个整数n，求：从1到n之间所有自然数之和。  
比如：用户输入10， 那么就计算 1+2+3+4+5+6+7+8+9+10 = ?

参考答案:

```
int main()
{
    int n;
    printf("请输入一个整数：");
    scanf("%d", &n);

    int sum = 0; // 保存自然数之和
    int i=0;
    while(i<=n)
    {
        sum += i;
        i++;
    }   
    printf("1~%d之间的自然数之和为：%d\n", n, sum);   
    return 0;
}
```

### 求整数的位数

任意输入一个整数，假设用户输入了123，程序运行输出"百  
如果用户输入了2896，程序输出 千  
10000，输出万 10000

参考答案：

```
int main()
{
    int count = 0; // 计数器
    printf("请输入一个整数：");
    int a;
    scanf("%d", &a);
    while (a > 0)
    {
        count++;
        a /= 10;
    }

    switch(count)
    {
        case 1:
            printf("个\n");
            break;

        case 2:
            printf("十\n");
            break;

        case 3:
            printf("百\n");
            break;
        case 4:
            printf("千\n");
            break;
        case 5:
            printf("万\n");
            break;

        case 6:
            printf("十万\n");
            break;
    }
    return 0;
}
```

### 求水仙花数

求100到999之间所有的水仙花数

水仙花数是什么？  
一个数百位的立方 + 十位的立方 + 个位的立方 = 这个数本身  
371就是一个水仙花数  
3 _ 3 _ 3 + 7 _ 7 _ 7 + 1 _ 1 _ 1 = 371

参考答案

```c  
int main\(\)  
{  
    int i;
    for (i=100; i < 1000; i++)
    {
        int bai = i / 100;
        int shi = i % 100 / 10;
        int ge = i % 10;
        int res = bai*bai*bai + shi*shi*shi + ge*ge*ge;
        if (res == i)
        {
            printf("%d是水仙花数！\n", i);
        }
    
    }
    return 0;
}
```

### 等腰三角形

在屏幕输出一个等腰三角形  

```
*
***
*****
```

---

---

---

---

要求：不能用printf一行一行打印输出等腰三角形  

```c
printf\("      _\n"\);  
printf\("     \*\*_\n"\);  
printf\("    **\***\n"\);
```

参考答案：

```
// 输出等腰三角形
int main()
{

    printf("请输入等腰三角形的行数(大于等于3)： \n");
    int hangshu;
    scanf("%d", &hangshu);

    if (hangshu < 3)
    {
        printf("行数要求大于等于3！\n");
        return 10;
    }

    for (int i = 1; i <= hangshu; ++i) // 一共打印多少行
    {
        for (int j = 0; j < hangshu-i; ++j) // 当前行要打印多少空格
        {
            printf(" ");
        }

        for (int k = 0; k < 2*i-1; ++k) // 当前行要打印多少*
        {
            printf("*");
        }
        printf("\n");
    }

    return 0;
}
```

## 练习

1. 打印1个5\*5的棋盘\(0表示空，1表示有子\)，用户输入1个位置\(例如 2 3\)，重新打印棋盘。

2. 一个数各个约数（真约数）的和等于它本身的自然数叫做完全数\(Perfect number\)。  
   \(例如：6 = 1 + 2 + 3\)   请找出1-1000以内的完全数。

3. 一个 n 位数 \( n≥3 \) 每个位上的数字的 n 次幂之和等于它本身的数叫做水仙花数。  
   \(例如：1^3 + 5^3 + 3^3 = 153\)    请找出 n = 3 的水仙花数。

4. 打印一个数字的个位，十位，百位... 直到最高位。

5. 猜数字游戏。  
   由计算机请求用户A输入一个数字，然后由用户B来猜这个数字，  
   B输入猜的数字之后，程序告诉用户B是大还是小，直到最后用户B猜对为止。  
   **\*** 将上面这个程序中通过用户A输入数字，改为由计算机随机产生数字  
     提示: 使用 rand\(\) 函数

6. 求出1-10000之间最大的素数。  
     素数即质数，除了1和本身之外没有其他的约数，否则就不是质数。

7. 使用while、do-while、for、goto求出1-n\(1&lt;=n&lt;=10\)的阶乘。  
     n从键盘输入。



