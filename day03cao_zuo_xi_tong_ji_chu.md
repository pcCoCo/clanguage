# day03-操作系统基础

## C语言为什么NewB\(牛逼\)

C语言是贝尔实验室的Ken Thompson、Dennis Ritchie等人开发的UNIX操作系统的副产品。  
Ken Thompson在1969年独自写出了UNIX的最初版本运行在DEC PDP-7计算机上，内存16KB，使用汇编汇编语言编写。  
后Ken Thompson在BCPL语言的语法基础上设计了B语言，后Ritchie加入到UNIX项目中，开始使用B语言编写程序。  
后来实验室争取到了一台PDP-11计算机，于是把B语言经过改进之后移植新机器上，并用B语言重写了部分的UNIX代码。  
经过改进之后的语言改名为NewB，后来已经越来越不像B语言了，于是改名叫C语言。  
到了1973年C语言已经足够稳定。

### AT&T

https://www.att.com/
AT&T公司（AT&T Inc，American Telephone & Telegraph的缩写，美国电话电报公司），是一家美国电信公司，美国第二大移动运营商，创建于1877年，曾长期垄断美国长途和本地电话市场。 AT&T在近120年中，曾经过多次分拆和重组。

美国电话电报公司有8个主要部门 ：贝尔实验室、商业市场集团、数据系统公司 、通用市场集团 、网络运营集团、网络系统集团、技术系统集团、公司国际集团。


### 贝尔实验室

美国贝尔实验室是晶体管、激光器、太阳能电池、发光二极管、数字交换机、通信卫星、电子数字计算机、蜂窝移动通信设备、长途电视传送、仿真语言、有声电影、立体声录音，以及通信网等许多重大发明的诞生地。自1925年以来，贝尔实验室共获得两万五千多项专利，现在，平均每个工作日获得三项多专利。贝尔实验室的使命是为客户创造、生产和提供富有创新性的技术，这些技术使朗讯科技（Lucent Technologies）公司在通信系统、产品、元件和网络软件方面处于全球领先地位。一共获得8项诺贝尔奖（其中7项物理学奖，1项化学奖）。

| 时间 | 主要研究成果 |
| :--- | :--- |
| 1940 | 数据型网络 |
| 1947 | 晶体管、移动电话技术 |
| 1954 | 太阳能电池 |
| 1958 | 激光 |
| 1960 | 金氧半场效应晶体管(MOSFET)（用于大规模集成电路的逻辑单元CMOS，如微处理器、单片机等）|
| 1962 | 语音信号数字传输、通信卫星：Telstar1 |
| 1963 | 无线电天文学（太空望远镜、电波望远镜） |
| 1969 | C语言、UNIX操作系统、电荷耦合组件（CCD，用于条码读取器、摄影机、扫描仪、复印机） |
| 1979 | C++语言、系统单芯片型的数字信号处理器（SoCDSP，用于调制解调器、无线电话等 |

## 从C源码到可执行程序的历练

### 预处理

处理对象是预处理语句，拓展头文件、宏替换、去掉注释  
扫描器（词法分析器）逐字符分析源文件文本，查找语言内置关键字。  
解析器（语法分析器）获取扫描器提供的输入流，根据语法规则检查结构是否正确 并建立语法分析树。  
中间代码生成 将语法分析树转换为另一种语法（寄存器传输语言，register transfer language,RTL）-汇编语言。  
优化 简化算术表达式、消除无用代码...  
生成 关注目标处理器生成实际的汇编代码，并不是可执行的二进制文件而是汇编指令文件。汇编器将其转化为二进制机器代码+可能的链接器。

执行指令 `gcc hello.c -E -o hello.i` 

### 编译

`编译器`将预处理之后的C代码进行词法分析、语法分析、语义分析转化为汇编代码，并进行优化（常数优化、循环优化...）。

执行指令 `gcc hello.i -S -o hello.s`

### 汇编

`汇编器`将汇编语句（参数）转化为跟处理器相关的二进制格式；将常量（字符串、数值常数）放置到二进制的目标代码中。Linux通常使用ELF文件格式在二进制文件中保存程序代码和数据。每一个汇编语句几乎都对应一条机器指令。所以汇编器的汇编过程相对于编译器来讲比较简单，它没有复杂的语法，也没有语义，也不需要做指令优化，只是根据汇编指令和机器指令的对照表一一翻译即可。

执行指令 `gcc hello.s -c -o test.o`
`od test.o`可以查看二进制文件
也可以直接调用汇编器 `as hello.s -o hello.o`


### 链接

`链接器`将一个或多个由编译器或汇编器生成的目标文件外加库链接为一个可执行文件  
目标文件是包括机器码和链接器可用信息的程序模块。简单的讲，链接器的工作就是解析未定义的符号引用，将目标文件中的占位符替换为符号的地址。

执行指令 `gcc hello.o -o hello`

实际上是调用以下形式的命令

`link hello.o 启动代码 库 -o hello`

生成的可执行程序内部结构总的分为三部分：启动代码(初始化内存堆栈等等)、用户代码（入口main函数）、库代码

在程序执行的时候先执行启动代码，然后再调用main()函数开始用户编写的C程序的执行。

## 计算机系统结构

计算机（Computer），俗称电脑，是一种能够按照事先存储的程序，自动、高速地进行大量数值计算和各种信息处理的现代化智能电子设备。由硬件和软件所组成，两者是不可分割的。  

1954年5月24日，晶体管电子计算机诞生。 
1969年10月29日，通过ARPANET，首次实现了两台计算机的互联。  

   计算机是20世纪最先进的科学技术发明之一，对人类的生产活动和社会活动产生了极其重要的影响。 
   计算机发明者约翰·冯·诺依曼，我们目前使用的几乎所有的计算机都是冯诺依曼型计算机。

   虽然随着科技的发展，现在新出现一些新型计算机有：生物计算机、光子计算机、量子计算机等，但是现在通用计算机还是以冯诺依曼型电子计算机为主。
    
### 冯诺依曼计算机特点

1\)计算机处理的数据和指令一律用二进制数表示

2\)顺序执行程序

计算机运行过程中，把要执行的程序和处理的数据首先存入主存储器（内存），计算机执行程序时，将自动地并按顺序从主存储器中取出指令一条一条地执行，这一概念称作顺序执行程序。

3\)计算机硬件由运算器、控制器、存储器、输入设备和输出设备五大部分组成。

### 个人计算机

[https://en.wikipedia.org/wiki/Personal\_computer](PC)

## CPU架构

![](/assets/cpu.jpg)

![](/assets/CPU2.jpg)

>终于知道一种超越了跪键盘的酷刑---------------跪CPU。O(∩_∩)O



x86 x86-64 SPARC ARM

### 复杂指令集CISC

x86：Intel从16位微处理器8086开始的整个CPU芯片系列，系列中的每种型号都保持与以前的各种型号兼容，主要有8086，8088（前面两个是16位CPU），80186，80286（这两个是过渡产品）， 80386，80486以及以后各种型号的Pentium芯片\[奔腾，P2, P4，赛扬...\]（这些都是32位CPU）

x86-64：&lt;维基百科&gt;上x86-64是x86指令集的超集，在x86处理器上可以运行的程序可以运行在x86-64上（这也是为啥现在买的一些64bits CPU可以直接运行Win XP的原因）。x86-64是AMD发明的，也叫AMD64，Intel克隆了一把，叫做Intel 64，也叫EM64T。

x86-64 is a 64-bit superset of the x86 instruction set architecture. Because the x86-64 instruction set is a superset of the x86 instruction set, all instructions in the x86 instruction set can be executed by central processing units \(CPUs\) that implement the x86-64 instruction set; therefore these CPUs can natively run programs that run on x86 processors from Intel, Advanced Micro Devices \(AMD\), and other vendors.

x86-64 was designed by AMD, who have since renamed it AMD64. It has been cloned by Intel under the name Intel 64 \(formerly known as EM64T among other names\).\[1\] This leads to the common use of the names x86-64 or x64 as more vendor-neutral terms to collectively refer to the two nearly identical implementations.

x86和x86-64可以认为就是一种特定的指令集  
i386：也是维基上的解释，也就是指Intel 80386，是第一个32位的x86架构的处理器，用了20多年了，后面出的 486（80486，i486），586（80586，Pentium，P5），686（80686，Pentium Pro，P6）等等都与之兼容。

The Intel 80386, otherwise known as the Intel386, i386 or just 386, is a microprocessor which has been used as the central processing unit \(CPU\) of many personal computers and workstations since 1986. It was the first x86 processor to have a 32-bit architecture, with a basic programming model that has remained virtually unchanged for over twenty years and remains completely backward compatible.

IA32：可以认为就是x86或者x86-32，也是一个指令集。  
英特尔32位架构（英语：Intel Architecture, 32-bit，缩写为IA-32），常被称为i386、x86-32或是x86，由英特尔公司推出的复杂指令集\(CISC\)架构，至今英特尔最受欢迎的处理器仍然采用此架构。它是x86架构的32位延伸版本，1985年首次应用在Intel 80386芯片中，用来取代之前的x86 16位架构（x86-16），包括8086、80186与80286芯片。  
一个IA32中央处理器\(CPU\)包含一组8个存储32位值的寄存器. 这些寄存器用来存储整型数据和指针英特尔32位架构（英语：Intel Architecture, 32-bit，缩写为IA-32），常被称为i386、x86-32或是x86，由英特尔公司推出的复杂指令集\(CISC\)架构，至今英特尔最受欢迎的处理器仍然采用此架构。

IA-32 \(Intel Architecture, 32-bit\), often generically called x86 or x86-32, is the instruction set architecture of Intel's most commercially successful microprocessors. It is a 32-bit extension, first implemented in the Intel 80386, of the earlier 16-bit Intel 8086, 80186 and 80286 processors and the common denominator for all subsequent x86 designs. This architecture defines the instruction set for the family of microprocessors installed in the vast majority of personal computers in the world.

IA64：就是所谓的安腾，Intel跟HP联合折腾的一种64-bits全新架构，与x86系列不兼容，号称采用了很多非常好的体系结构方面的技术，但是没火起来。再次证明光有好的技术是行不通的，还要有市场眼光啊。

Itanium is the brand name for 64-bit Intel microprocessors that implement the Intel Itanium architecture \(formerly called IA-64\). Intel has released two processor families using the brand: the original Itanium and the Itanium 2. Starting November 1, 2007, new members of the second family are again called Itanium. The processors are marketed for use in enterprise servers and high-performance computing systems. The architecture originated at Hewlett-Packard \(HP\) and was later developed by HP and Intel together.

注：所谓16位，32位，64位的CPU一般是指处理器中“算数逻辑单元（ALU）”或者CPU GPRs（General-Purpose Registers，通用寄存器）的数据宽度。此外还有数据总线宽度和地址总线宽度两个参数，前者决定了CPU在进行运算时，一次可以并行拿到的二进制数据bit数（可以想想C语言中short/int/long型数据分别的位数），通常与ALU的宽度相同（极个别例外），而后者决定了内存地址空间的大小（16位的地址总线，就是64K，32位就是4G，64位是128T；可以想一下C语言中指针所占的二进制长度），地址总线宽度自然来讲应该是跟数据总线宽度一致，但由于诸多原因（历史，技术，兼容性等等）不是这样。  
另外，还有操作系统的位数区分，可以认为是word size（字长），也就是一个整数和指针数据的长度，原则上就是指上述CPU位数（即通用寄存器的位数），但同时也决定了操作系统能够支持的最大内存容量（每个进程能够使用的虚拟内存大小，严格说来没有这么多）。

### 精简指令集RISC

特点是所有指令的格式都是一致的，所有指令的指令周期也是相同的，并且采用流水线技术。在中高档服务器中采用RISC指令的CPU主要有Compaq（康柏，即新惠普）公司的Alpha、HP公司的PA-RISC、IBM公司的PowerPC、MIPS公司的MIPS和SUN公司的Sparc、Acorn公司的ARM。

### ARM

ARM处理器是英国Acorn有限公司设计的低功耗成本的第一款RISC微处理器。全称为Acorn RISC Machine。ARM处理器本身是32位设计，但也配备16位指令集，一般来讲比等价32位代码节省达35%，却能保留32位系统的所有优势。

1978年12月5日，物理学家赫尔曼·豪泽（Hermann Hauser）和工程师Chris Curry，在英国剑桥创办了CPU公司（Cambridge Processing Unit），主要业务是为当地市场供应电子设备。

1979年，CPU公司改名为Acorn计算机公司。Acorn公司打算使用摩托罗拉公司的16位芯片，但是发现这种芯片太慢也太贵。“一台售价500英镑的机器，不可能使用价格100英镑的CPU！”他们转而向Intel公司索要80286芯片的设计资料，但是遭到拒绝，于是被迫自行研发。

1985年，Roger Wilson和Steve Furber设计了他们自己的第一代32位、6MHz的处理器，用它做出了一台RISC指令集的计算机，简称ARM（Acorn RISC Machine）。

1990年11月27日，Acorn公司正式改组为ARM计算机公司。苹果公司出资150万英镑，芯片厂商VLSI出资25万英镑，Acorn本身则以150万英镑的知识产权和12名工程师入股。公司的办公地点非常简陋，就是一个谷仓。公司成立后，由于缺乏资金，ARM做出了一个意义深远的决定：自己不制造芯片，只将芯片的设计方案授权（licensing）给其他公司，由它们来生产。

20世纪90年代，ARM公司的业绩平平，处理器的出货量徘徊不前。但是进入21世纪之后，由于手机的快速发展，出货量呈现爆炸式增长，ARM处理器占领了全球手机市场。

经过12年的发展，在2002年，ARM架构芯片的出货量正式突破10亿。随着智能设备的爆炸式成长，如今，要完成10亿片的出货量只需要一个月。

2004年，Cortex系列的诞生是ARM公司的大事件，从此该公司不再用数字为处理器命名。它分为A、R和M三类，旨在为各种不同的市场提供服务。

2006年，全球ARM芯片出货量为20亿片，2010年预计将达到45亿片。

2015年，ARM基于ARMv8架构推出了一种面向企业级市场的新平台标准。此外，他们还开始在物联网领域发力。同年，福布斯杂志将ARM评为世界上五大最具创新力的公司之一。

### 硅谷

为什么硅谷IT巨头那么多？和国内完全相反，北上广深等城市的IT业和城市规模基本的正关联。美国出现这样的状况也和他的他们的政策相关。

硅谷是当今电子工业和计算机业的王国，最早是研究和生产以硅为基础的半导体芯片的地方因此得名。

尽管美国和世界其他高新技术区都在不断发展壮大，但硅谷仍然是高科技技术创新和发展的开创者，该地区的风险投资占全美风险投资总额的三分之一[1]  ，择址硅谷的计算机公司已经发展到大约1500家。一个世纪之前，这里是一片果园和葡萄园，但是自从国际商用机器公司（IBM）和苹果公司和谷歌公司总部等高科技公司在这里落户之后，这里就成为了一座繁华的市镇。

硅谷的主要区位特点是以附近一些具有雄厚科研力量的美国顶尖大学为依托 ，主要包括斯坦福大学（Stanford University）和加州大学伯克利分校（UC Berkeley），同时还包括加州大学其他的几所校区和圣塔克拉拉大学等等。硅谷以高新技术的中小公司群为基础，同时拥有谷歌、Facebook、惠普、英特尔、苹果公司、思科、英伟达、甲骨文、特斯拉等大公司 ，融科学、技术、生产为一体。


当地一直是美国海军一个工作站点，并且海军的飞行研究基地也设于此，后来许多科技公司的商店都围绕着海军的研究基地而建立起来。但当海军把它大部分位于西海岸的工程项目转移到圣迭戈时，NASA接手了海军原来的工程项目，不过大部分的公司却留了下来，当新的公司又搬来之后，这个区域逐渐成为被航空航天企业聚集区。
那个时候，此地还没有民用高科技企业，虽然这里有很多好的大学，可是学生们毕业之后，他们却选择到东海岸去寻找工作机会。斯坦福大学一个才华横溢的教授弗雷德·特曼（Frederick Emmons Terman）发现了这一点，于是他在学校里选择了一块很大的空地用于不动产的发展，并设立了一些方案来鼓励学生们在当地发展他们的“创业投资(venture capital)”事业。在Terman的指导下，他的两个学生威廉·休利特和David Packard在一间车库里凭着538美元建立了惠普公司(Hewlett-Packard)──一个跟NASA及美国海军没有任何关系的高科技公司。这车库现已经成为了硅谷发展的一个见证，被加州政府公布为硅谷发源地而成为重要的景点。
在1951年，Terman又有了一个更大的构想，那就是成立斯坦福研究园区(Stanford Research Park)，这是第一个位于大学附近的高科技工业园区。园区里一些较小的工业建筑以低租金租给一些小的科技公司，今日，这些公司是重要的技术诞生地，可是在当时却并不为人所知。最开始的几年里只有几家公司安家于此，后来公司越来越多，他们不但应用大学最新的科技，同时又租用该校的土地，这些地租成为了斯坦福大学的经济来源，使斯坦福大学不断的兴旺发达。Terman在1950年代决定新的基础设施则应以“谷”为原则而建造。
正是在这种氛围下，一个著名的加利福尼亚人威廉·肖克利搬到了这里。威廉的这次搬家可以称得上是半导体工业的里程碑。1953年由于与同事的分歧而离开贝尔实验室。离婚之后孤身一人回到他获得科学学士学位的加州理工学院，在1956年他又搬到了距他母亲很近的加利福尼亚山景城（Mountain View）去建立肖克利半导体实验室。在这之前的时期，尚未成型的半导体工业主要集中在美国东部的波士顿和纽约长岛地区。为了公司的发展，他特意从东部召来八位年青人，这其中就有诺宜斯、戈登·摩尔、斯波克、雷蒙德。
威廉·肖克利打算设计一种能够替代晶体管的元器件（熟知的肖克利二极管）来占领市场。但在考虑设计得比“简单的”晶体管还要简单的这个问题时他却难住了。被困难难住的肖克利愈发变得偏执，他要求对职员进行测谎，并公布他们的薪金，这些事情惹恼了大家。在1957年，那八位优秀的年轻人集体跳槽，并在一位工业家Sherman Fairchild的资助下成立了仙童半导体公司，仙童公司总部位于纽约市，主要经营照相机。
由于诺宜斯发明了集成电路技术，可以将多个晶体管安放于一片单晶硅片上，使得仙童公司平步青云。而1965年戈登·摩尔总结了集成电路上面的晶体管数量每18个月翻一番的规律  ，也就是人们熟知的“摩尔定律”，这一定律虽然只是由1960年代的数据总结而成的，但是直到21世纪最初的那几年却依然有效。
这种事情又不断的上演，脱离控制的工程师不断的建立新的公司。1967年初，斯波克、雷蒙德等人决定离开仙童公司，自创国民半导体公司(National Semiconductor)，总部位于圣克拉拉。而1968年仙童公司行销经理桑德斯的出走，又使世界上出现了超微科技（AMD)这家公司。同年七月，诺宜斯、戈登·摩尔 、安迪·葛洛夫又离开仙童成立了英特尔公司。今天的英特尔公司是世界上最大的半导体集成电路厂商，占有80%的市场份额。



### Intel和AMD的渊源

说到AMD和英特尔两家不得不说一家传奇的公司“仙童半导体公司”，要想了解美国硅谷的发展史，就必须了解早期的仙童半导体公司，英特尔的创始人“罗伯特诺伊斯”“戈登摩尔”曾经便是从仙童公司辞职单干的被“晶体管之父”肖克利博士称为“八叛逆”的八个年轻人中的两个，而AMD的创始人则是后期仙童公司的一位销售主任“杰里·桑德斯”，两家公司成立仅差一年，起步可以说是天差地别，一个是大名鼎鼎的“八叛逆”，一个是被公司开除的销售员工。


## 内存

主存储器，内部存储器，简称内存。

![](/assets/memory.jpg)

内存（Memory）是计算机中重要的部件之一，它是与CPU进行沟通的桥梁。计算机中所有程序的运行都是在内存中进行的，因此内存的性能对计算机的影响非常大。作用是用于暂时存放CPU运算所需的相关数据。只要计算机在运行中，CPU就会把需要运算的数据先调到内存中，当计算进行时部分数据被加载进缓存或者寄存器中。

内存的运行也决定了计算机的稳定运行。

如果数据在内存中未找到，则需要在硬盘中读取，效率低下。


速度快。  
内存属于易失存储介质，在断电的时候将会丢失数据。

内存一般采用半导体存储单元，包括随机存储器（Random Access Memory,RAM），只读存储器（Read Only Memory,ROM），以及高速缓存（CACHE，片外cache）。只不过因为RAM是其中最重要的存储器，所以一般都使用RAM代表内存。

主要介质种类有 SDRAM、DDR、DDR2、DDR3、DDR4。
比较著名的品牌 金士顿、三星、东芝、海力士等等

> 手机内存16G不够使用怎么办???  
这是一个误区，手机内存容量大小并不是指的内部存储器的容量，而是指的外部存储器的容量。截止2016年12月，市场上一般的手机内存容量在512M-2G左右。

1）一种称为静态RAM（Static Random Access Memory,SRAM），SRAM速度非常快，是目前读写最快的存储设备了，但是它也非常昂贵，所以只在要求很苛刻的地方使用，譬如CPU的一级缓冲，二级缓冲。


2）另一种称为动态RAM（Dynamic Random Access Memory,DRAM），DRAM保留数据的时间很短，速度也比SRAM慢，不过它还是比任何的ROM都要快，但从价格上来说DRAM相比SRAM要便宜很多，计算机内存就是DRAM的。 


## 外存

外部存储器，简称外存。是指除计算机内存及CPU缓存以外的储存器，此类储存器一般断电后仍然能保存数据。常见的外存储器有硬盘、软盘、光盘、U盘等。容量较内存大，价格更加便宜，保存的数据持久性好，属于非易失存储介质。

PC机常见的外存储器有软盘存储器、硬盘存储器、光盘存储器、USB闪存等。


磁盘有软盘和硬盘两种。

![](/assets/soft_disk.jpg)

硬盘目前可以分为机械硬盘，固态硬盘。



![](/assets/hard_disk.jpg)
![](/assets/ssd.jpg)


固态硬盘的存储介质分为两种，一种是主流技术 采用闪存（FLASH芯片）作为存储介质，另外一种是采用DRAM作为存储介质。

> 固态-机械硬盘和固态硬盘各有什么优缺点?

光盘有只读型光盘CD-ROM、一次写入型光盘WORM和可重写型光盘MO三种。

U盘存储介质为FLASH闪存，英文名称是"Flash Memory"，一般简称为"Flash"。
![](/assets/u_disk.jpg)


在没有电流供应的条件下也能够长久地保持数据，其存储特性相当于硬盘，这项特性正是闪存得以成为各类便携型数字设备的存储介质的基础。





### 世界上第一个U盘

朗科公司推出的以优盘为商标的闪存盘（OnlyDisk）是世界上首创基于USB接口，采用闪存（Flash Memory）介质的新一代存储产品。闪存盘，是中国在计算机存储领域二十年来唯一属于中国人的原创性发明专利成果。

美国科技博客网站BusinessInsider评选出本世纪迄今10款最重要电子产品，iPhone、iPad、iPod和MacBook　Air等4款苹果产品榜上有名。微软也因为Xbox和Kinect上榜，中国朗科发明的U盘也上榜。但日本电子产品无一入选，曾经辉煌的日本电子帝国已全面衰落。

第一次知道原来U盘是中国人发明的，还被美国列为本世纪10大最重要电子产品。

朗科公司是由留学归国人员于1999年成立的高新技术企业。其创始人邓国顺推出了世界上首创的采用闪存介质的新一代存储技术及产品，这项在闪存盘及闪存应用领域的基础性发明专利，被称作是中国在IT行业第一项原创性发明专利。此项专利于2002年被中国知识产权局授予发明专利权，2004年12月7日，朗科获得美国国家专利局正式授权的闪存盘基础发明专利，美国专利号US6829672。这一专利权的获得，从法律上确认了中国朗科公司是U盘的全球第一个发明者。

美国时间2006年2月10日，朗科委托美国摩根路易斯律师向美国德克萨斯州东区联邦法院递交诉状，控告美国PNY公司侵犯了朗科的美国专利\(美国专利号US6829672\)。2008年2月，朗科与PNY达成庭外和解。朗科向PNY签订专利许可协议，PNY向朗科公司缴纳专利许可费用1000万美元。这是中国企业第一次在美国本土收到巨额专利许可费用。也进一步证明了朗科是U盘的全球发明者。

于是神评论:做产品早就是朗科副业了，打官司才是朗科的主业。

> 优盘是朗科的一个牌子，因为当时所有的U盘都是优盘牌的，所以优盘成了U盘的代名词，其他厂商，为了不侵权，只好将其称为U盘。

### USB是谁发明的

2015 年 11 月 15 日 USB 技术问世 20 周年，全球有超过 100 亿台设备正在使用 USB 传输资料，做为这项应用最为广泛的技术发明者，Ajay Bhatt 在过去 20 年终却没有透过 USB 技术专利赚过钱，这位 Intel 的首席系统工程师表示，研发 USB 技术不是为了赚钱，而是为了给科技产业带来改变。

20 年前 Ajay Bhatt 仅仅是希望能够为电脑之间的资料传输创造一个统一的界面，使用者必须要为不同的硬盘安装特殊的程序，这款提升用户体验的想法却没有得到业内人士的支持，大公司固守着原有的传输标准，没有人敢走出打破规则的第一步。  
　　  
   只有 Intel 公司对 Ajay Bhatt 的想法感兴趣，并给予他研发技术和资金上的支持，Intel 的处理器也在第一时间支持 USB 传输技术。由于 USB 是应用在不同设备的传输技术，初期推广时并不顺利，Ajay Bhatt 首次向微软、苹果等公司推广这一技术时，这些公司没有表现出太多兴趣。第一款相容 USB 技术的产品是苹果在 1998 年 8 月推出的 iMac G3，随后微软宣布 Windows 98 支持 USB 技术，这项技术很快得到推广普及。

做为 USB 技术的投资方，Intel 公司持有该技术的全部专利，在这项技术全面推广和普及后，Intel 并没有透过 USB 技术赚钱，而是宣布对所有厂商开放 USB 技术专利。因此 Ajay Bhatt 也错过了获得丰厚回报的机会，Ajay Bhatt 表示，USB 技术让用户更轻松自如地使用电脑，这样厂商就可以卖出更多产品，Intel 可以售出更多晶片，市场规模也因此扩大，做为一名工程师，Intel 已经给他很好的待遇，因为在其他地方他没办法完成这样的研发。


## 操作系统

用户空间：应用程序、C语言库

内核空间：系统内核、设备驱动、硬件、系统调用

UNIX操作系统下运行的应用程序都可以被称作为进程。每个进程都在CPU的虚拟内存中分配地址空间。各个进程的地址空间都是完全独立的，因此每个进程都不会意识到彼此的存在。

### 多任务

Linux是多任务操作系统，看上去支持很多并行执行的若干进程。一个CPU内核在一个时间点只能执行一个进程，因此要执行很多个进程需要内核在很短的时间间隔内在不同的进程间进行切换\(用户无感知\)。

1）内核借助CPU的帮助，负责进程切换的技术细节。必须给各进程一种错觉就是CPU总是可用\(虽然不一定可用\)。

在剥夺某个进程的CPU资源之前保存进程的上下文，在重新激活进程的时候恢复进程的上下文。这个切换过程叫进程切换。

2）内核必须确定如何在现存的进程之间共享CPU资源，确定每个进程运行时间称为调度。



## 系统调用

system\(\)

系统调用的开销

系统调用时用户进程和内核交互的经典方法。POSIX定义了许多系统调用，以及这些系统调用在所有遵循POSXI的系统\(Linux）的语义。总的来说，由以下几大类：

进程管理、信号、文件IO、文件系统、保护机制、定时器。

这些类的函数都对内核提出了要求：需要特别的保护机制来保障系统稳定性或者安全，所以这些函数不能以普通的用户库函数形式实现提供。

用户进程发出系统调用的时候，处理器改变该进程的特权级别，从用户态切换为内核态，每个硬件平台都提供了类似但又不同的机制。

### 文件系统

Linux系统有数以万计的文件，其数据存储在硬盘等其他设备。存储使用了层次式文件系统。文件系统使用目录结构组织存储的数据，并将其他元数据\(所有者、访问权限\)与实际数据关联起来。Linux支持许多文件系统：Ext2,Ext3文件系统。Ext2基于inode，对每个文件构造一个单独的管理结构，并且存储在磁盘上，inode包含了文件所有的元数据，以及指向项数据的指针。

## 为什么寄存器比内存快

简述一下该观点 [http://www.ruanyifeng.com/blog/2013/10/register.html](http://www.ruanyifeng.com/blog/2013/10/register.html)

知乎 [https://www.zhihu.com/question/20075426](https://www.zhihu.com/question/20075426)

## 随处可见的cache机制

CPU的一级缓存、二级缓存

硬盘的缓存

操作系统的虚拟内存和交换分区

### 为什么寄存器比内存块?

[http://www.ruanyifeng.com/blog/2013/10/register.html](http://www.ruanyifeng.com/blog/2013/10/register.html)

## 操作系统是如何启动的?

[http://www.ruanyifeng.com/blog/2013/02/booting.html](http://www.ruanyifeng.com/blog/2013/02/booting.html)

## 编程语言

编程语言（programming language），是用来定义计算机程序的形式语言。它是一种被标准化的交流技巧，用来向计算机发出指令。一种计算机语言让程序员能够准确地定义计算机所需要使用的数据，并精确地定义在不同情况下所应当采取的行动。  
编程语言俗称“计算机语言”，种类非常的多，总的来说可以分成机器语言、汇编语言、高级语言三大类。电脑每做的一次动作，一个步骤，都是按照已经用计算机语言编好的程序来执行的，程序是计算机要执行的指令的集合，而程序全部都是用我们所掌握的语言来编写的。所以人们要控制计算机一定要通过计算机语言向计算机发出命令。 目前通用的编程语言有两种形式：汇编语言和高级语言。

程序员通过编写跟人类思维较相近高级语言的程序代码，使用一种将该程序代码**翻译**为最终可执行的二进制代码。  
这种**翻译**一般都是使用较为低级的编程语言。  
这种拥有**翻译**功能的程序的设计思路跟具体的编程语言的语法要求是相关的。

从我们生活中就可以知道，将英文翻译为中文有两种基本模式。  
第一种，将拿到的一篇完整的英文文章翻译为中文;  
第二种，在外宾发表的演讲的同时将其翻译为中文，同声传译。

高级语言按照其执行方式，他所依赖的翻译工具实际上也有上述这两种情况。

### 解释器

边解释，边执行。  
shell、Python等编程语言。

### 编译器

只有整个程序编译完成，才能进行下一步操作。  
C、C++、OC等编程语言。

### 常用的C语言编译器

GNU Compiler Collection\(GCC\)

Microsoft C\(cl.exe\)

Borland Turbo C

Intel C++ Compiler\(icc\)

llvm-clang

LLVM官方网站：[http://llvm.org/](http://llvm.org/)

Clang官方网站：[http://clang.llvm.org/get\_started.html](http://clang.llvm.org/get_started.html)

LLVM是构架编译器\(compiler\)的框架系统，以C++编写而成，用于优化以任意程序语言编写的程序的编译时间\(compile-time\)、链接时间\(link-time\)、运行时间\(run-time\)以及空闲时间\(idle-time\)，对开发者保持开放，并兼容已有脚本。LLVM计划启动于2000年，最初由University of Illinois at Urbana-Champaign的Chris Lattner主持开展。2006年Chris Lattner加盟Apple Inc.并致力于LLVM在Apple开发体系中的应用。Apple也是LLVM计划的主要资助者.

Low Level Virtual Machine \(LLVM\) 是一个开源的编译器架构，它已经被成功应用到多个应用领域。Clang \( 发音为 /klæŋ/\) 是 LLVM 的一个编译器前端，它目前支持 C, C++, Objective-C 以及 Objective-C++ 等编程语言。Clang 对源程序进行词法分析和语义分析，并将分析结果转换为 Abstract Syntax Tree \( 抽象语法树 \) ，最后使用 LLVM 作为后端代码的生成器。  
Clang 的开发目标是提供一个可以替代 GCC 的前端编译器。与 GCC 相比，Clang 是一个重新设计的编译器前端，具有一系列优点，例如模块化，代码简单易懂，占用内存小以及容易扩展和重用等。由于 Clang 在设计上的优异性，使得 Clang 非常适合用于设计源代码级别的分析和转化工具。Clang 也已经被应用到一些重要的开发领域，如 Static Analysis 是一个基于 Clang 的静态代码分析工具。

### C语言常用IDE

集成开发环境（IDE，Integrated Development Environment ）是用于提供程序开发环境的应用程序，一般包括代码编辑器、编译器、调试器和图形用户界面等工具。集成了代码编写功能、分析功能、编译功能、调试功能等一体化的开发软件服务套。所有具备这一特性的软件或者软件套（组）都可以叫集成开发环境。如微软的Visual Studio系列。

VS  
Qt creator  
Code::Blocks  
Eclipse  
clion  
值得注意的是 虽然vim一般来说是一个编辑器，但是vim支持拓展控件，所以这样拓展之后的vim完全可以当做一个IDE使用。

### IBM公司

公司名称国际商业机器公司(International Business Machines Corporation,IBM)

IBM于1911年6月15日在宾厄姆顿西几英里处的纽约恩迪科特作为CTR公司注册。三个独立公司合并建立了CTR公司，它们是：列表机公司(1896年创立于华盛顿）、计算表公司(1901年创建于俄亥俄州代顿）和国际时代唱片公司(1900年创办于纽约州恩迪科特）。那时列表机公司的总裁也即创办人是Herman Hollerith。

合并背后的关键人物是金融家Charles Flint，他召集三家公司的创始人提出兼并并在CTR中任职直到1930年退休。


老沃森 1914年进入计算制表记录公司(CTR)任公司经理，1924年2月14改名为国际商业机器公司（IBM）。


是全球最大的信息技术和业务解决方案公司，拥有全球雇员 30多万人，业务遍及160多个国家和地区。
该公司创立时的主要业务为商业打字机，之后转为文字处理机，然后到计算机和有关服务。

IBM为计算机产业长期的领导者，在大型/小型机和便携机（ThinkPad）方面的成就最为瞩目。其创立的个人计算机（PC）标准，至今仍被不断的沿用和发展。2004年，IBM将个人电脑业务出售给中国电脑厂商联想集团，正式标志着从“海量”产品业务向“高价值”业务全面转型。
另外，IBM还在大型机，超级计算机（主要代表有深蓝、蓝色基因和Watson），UNIX，服务器方面领先业界。

软件方面，IBM软件集团（Software Group）分为软件行业解决方案以及中间件产品，包括业务分析软件（Cognos、SPSS）、企业内容管理软件、信息管理软件（DB2、Infomix、InforSphere）、ICS协作（包括Lotus等）、Rational软件（软件生命周期管理）、Tivoli软件（整合服务管理）、WebSphere软件（业务整合与优化）、System z软件。

IBM在材料、化学、物理等科学领域也有很深造诣。硬盘技术、扫描隧道显微镜（STM），铜布线技术，原子蚀刻技术都是IBM研究院发明。

IBM2016年获得美国专利数量超过7000件，有望连续24年蝉联科技公司获取美国专利数量第一位。
据悉，2015年IBM获得了超过7355件美国专利，比2014年的7,534件略有下降。IBM的一位发言人表示。
现在，它正在寻求关键战略领域的专利，如人工智能以及认知计算。事实上，目前IBM有三分之一的研究人员致力于研发认知计算相关技术。

IBM在科技创新方面，2015全年获得专利相当于微软、谷歌、英特尔这三家公司所获得专利总和。”


IBM公司同时也是备受世人尊重的公司。
受人尊重的原因，其中之一是能够在近百年的历史过程中，多次领导产业革命，尤其是在IT行业中，制定多项标准，并努力帮助客户成功。另外，该公司一直在世界500强中位居前列。更为重要的是，其受人尊重的原因在于，IBM公司近百年的历史当中，一直坚持遵守“沃森哲学”。
主要包括：
1、必须尊重个人。
2、必须尽可能给予顾客最好的服务。
3、必须追求优异的工作表现。


小沃森对老沃森所经营的IBM没什么好印象。小时候参观工厂，最深刻的就是浓烈的烟雾、噪音以及刺鼻的金属味。

1937年，小沃森前往IBM销售学校，熬了两年坚持到学业结束。小沃森成了正式销售员。但大部分时间和精力都花在飞行和泡妞上。他的风流韵事在公司内沸沸扬扬。但他有股倔劲：“我不能让IBM支配我的生活。”

二战爆发使使小沃森有了解脱的机会，他加入了国民警卫队。军队生涯，使他摆脱了父亲的阴影，有了自信心。他终于拿起电话，告诉父亲，他将回到IBM。这当然是老沃森盼望了多年的心愿。他当起推销员，得到了极其轻松的华尔街业务区，结果到1月2日，就完成了全年的销售任务。

老沃森很怀疑那些已真空管和电子零配件装成的庞然大物，丑陋又难过，而且由很多吱轧作响的机械构成，听起来象满满一屋子的人在织布一样。他甚至断言：“世界市场对计算机的需求大约只有5部。”

小沃森成为IBM第二号人物后，当即对研究机构进行革新。在公司发展方向上实施了带根本性的改革。1950年5月，任命麦克道尔为实验室负责人，大量招聘电子技术方面的人才。而“国防计算机”的研制正是小沃森率领IBM进入电子技术的一次冒险，是公司发展方向的彻底革命。1951年，IBM开始决定开发商用电脑，聘请冯·诺依曼担任公司的科学顾问，1952年12月研制出IBM第一台存储程序计算机，也是通常意义上的电脑，它叫IBM701。
1952年大选前夕之夜，兰德将一台Univac电脑提供给哥伦比亚广播公司预测结果。电脑作出了艾森豪威尔以微弱优势获胜的预测。那一次，Univac大出风头，被称为“无与伦比的电子大脑”。当然，受刺激最大的还是小沃森。
1953年4月，IBM纽约总部终于迎来辉煌，150位全美最出色的科学家和商界领袖参加IBM-701国际计算机的盛大典礼。1956年，4年一度的大选降临，电视上再也见不到Univac电脑，而尽是IBM的标志。此时，IBM已经占领了约70%的市场，美国本土只留下以雷明顿·兰德公司为首的7家公司，新闻传媒戏称美国电脑业是“IBM和七个小矮人”。
